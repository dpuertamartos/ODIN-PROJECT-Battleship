(()=>{"use strict";function e(e,t){let r=JSON.stringify(t);return e.some((function(e){return JSON.stringify(e)===r}))}const t=()=>{let t=[],r=[],n=!1;return{missed:t,size:10,placedShips:r,add:e=>(r.push(e),"ship added to gameboard"),receiveAttack:n=>{const o=r.filter((t=>!0===e(t.position,n)));return 1===o.length?(o[0].createHit(n),o[0]):0===o.length?(t.push(n),null):void 0},checkGameOver:()=>{for(let e=0;e<r.length;e++)!0===r[e].isSunk()?(console.log("inside of game over",r[e].isSunk()),n=!0,console.log("gameover value",n)):(console.log("inside of game over false",r[e].isSunk()),n=!1);return n}}},r=(t,r,n)=>{let o=n,s=t,i=r,l=!1;1===r&&(l=!0);let a=[],u=(()=>{let e=[];for(let t=0;t<o.size;t++)for(let r=0;r<o.size;r++)e.push([t,r]);return e})();const c=()=>{l=!l};return{board:o,mode:s,position:i,play:(t,r)=>{if(e(a,t))return null;if("random"===t){const t=(()=>{u=u.filter((t=>!e(a,t)));const t=Math.floor(Math.random()*u.length);return u[t]})();r.board.receiveAttack(t),a.push(t)}else r.board.receiveAttack(t),a.push(t);return c(),r.swapTurn(),t},swapTurn:c,getTurn:()=>l}},n=e=>{let t=e,r=[],n=[];return{length:t,hits:r,position:n,place:(e,r)=>{let o=!0;e[0]===r[0]&&(o=!1);for(let r=0;r<t;r++)o?n.push([e[0]+r,e[1]]):n.push([e[0],e[1]+r])},createHit:e=>{r.push(e)},isSunk:()=>r.length<t!=1}},o=[[2,[0,0],[1,0]],[2,[5,5],[5,6]],[2,[0,7],[0,7]],[2,[9,2],[9,3]],[3,[3,0],[3,2]],[3,[5,2],[7,2]],[3,[9,5],[9,7]],[4,[0,2],[0,5]],[6,[4,9],[9,9]]],s=t(),i=t(),l=r("player",1,s),a=r("computer",2,i),u={generateShips:e=>{for(let t=0;t<o.length;t++){const r=n(o[t][0]);r.place(o[t][1],o[t][2]),e.board.add(r)}}};u.generateShips(l),u.generateShips(a)})();